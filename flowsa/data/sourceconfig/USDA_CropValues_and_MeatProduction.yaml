# Queries NASS Quickstats API to get annual product value
# Data can be found in pdf format from
# https://usda.library.cornell.edu/concern/publications/k35694332?locale=en
# and
# https://usda.library.cornell.edu/concern/publications/02870v85d
---
api_name: USDA_Quickstats
api_key_required: true
format: json
url:
  base_url: "https://quickstats.nass.usda.gov/api/"
  api_path: "api_GET/?key=__apiKey__" #__apiKey__ should be substituted with user's api key
  url_params:
    source_desc: "SURVEY"
    #sector_desc: "__secLevel__" # CROPS or ANIMALS & PRODUCTS
    #statisticcat_desc: "PRODUCTION&statisticcat_desc=INVENTORY"
    unit_desc: "$"
    agg_level_desc: "__aggLevel__" # __aggLevel__ triggers a replace fxn to substitute in "NATIONAL", "STATE", or "COUNTY"
    state_alpha: "__stateAlpha__" # dynamically substitute the 50 state acronyms. This parameter doesn't exist for national level
    year: "__year__" # __year__ is used to trigger a replace function to substitute in year
  key_param: key
url_replace_fxn: prodvalue_url_helper
call_response_fxn: prodvalue_call
parse_response_fxn: prodvalue_parse
years:
  - 2010
  - 2011
  - 2012
  - 2013
  - 2014
  - 2015
  - 2016
  - 2017
  - 2018
#sector_levels:
#  - "CROPS"
#  - "ANIMALS %26 PRODUCTS"
agg_levels:
  - "NATIONAL"
  - "STATE"
